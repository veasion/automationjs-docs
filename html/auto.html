<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>模块及函数 | JS自动化测试 -1.0.0 文档</title>
  <link rel="stylesheet" href="assets/fonts.css">
  <link rel="stylesheet" href="assets/style.css">
  <link rel="stylesheet" href="assets/sh.css">
  <link rel="canonical" href="https://nodejs.org/api/auto.html">
</head>
<body class="alt apidoc" id="api-section-auto">
  <div id="content" class="clearfix">
    <div id="column2" class="interior">
      <div id="intro" class="interior">
        <a href="/" title="返回首页">
          JS自动化测试
        </a>
      </div>
      <ul>
<li><a class="nav-overview" href="overview.html">Overview - 综述</a></li>
<li><a class="nav-qa" href="qa.html">Q&amp;A - 常见问题</a></li>
<li><a class="nav-driver" href="driver.html">Driver - 基础函数</a></li>
<li><a class="nav-element" href="element.html">Element - 元素对象</a></li>
<li><a class="nav-element_ext" href="element_ext.html">ElementExt - 元素函数</a></li>
<li><a class="nav-env" href="env.html">Environment - 环境变量</a></li>
<li><a class="nav-jdbc" href="jdbc.html">Jdbc - 数据库</a></li>
<li><a class="nav-touch" href="touch.html">Touch - 鼠标操作</a></li>
<li><a class="nav-log" href="log.html">Logger - 日志</a></li>
<li><a class="nav-auto active" href="auto.html">Auto - 模块及函数</a></li>
<li><a class="nav-demo" href="demo.html">Demo - 示例</a></li>
</ul>

    </div>

    <div id="column1" data-id="auto" class="interior">
      <header>
        <h1>JS自动化测试 -1.0.0 文档</h1>
        <div id="gtoc">
          <p>
            <a href="index.html" name="toc">索引</a> |
            <a href="all.html">查看全部</a>
          </p>
        </div>
        <hr>
      </header>

      <div id="toc">
        <h2>目录</h2>
        <ul>
<li><span class="stability_undefined"><a href="#auto">模块及函数</a></span><ul>
<li><span class="stability_undefined"><a href="#auto_1">基础函数</a></span><ul>
<li><span class="stability_undefined"><a href="#auto_auto">auto</a></span></li>
<li><span class="stability_undefined"><a href="#auto_jira">jira</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#auto_2">业务模块</a></span><ul>
<li><span class="stability_undefined"><a href="#auto_http">http</a></span></li>
<li><span class="stability_undefined"><a href="#auto_proxy">proxy</a></span></li>
</ul>
</li>
</ul>
</li>
</ul>

      </div>

      <div id="apicontent">
        <h1>模块及函数<span><a class="mark" href="#auto" id="auto">#</a></span></h1>
<p>基于 JS 自动化测试框架扩展的业务模块及函数，方便直接调用封装函数解决问题。</p>
<p>如登录 <code>auto.randMobile()</code> 等。</p>
<ul>
<li>业务基础函数在 include 目录下（包含auto / jira 等对象定义）</li>
<li>业务模块在 common 目录下（包含http/代理等模块）</li>
<li>业务数据依赖在 dependency 目录下（可以直接依赖基础数据）</li>
</ul>
<h2>基础函数<span><a class="mark" href="#auto_1" id="auto_1">#</a></span></h2>
<h3>auto<span><a class="mark" href="#auto_auto" id="auto_auto">#</a></span></h3>
<p>auto 对象提供常用的自动化函数，具体查看  include/auto.js</p>
<pre><code class="lang-js">// 加载 http 模块
auto.loadCommon(&#39;http&#39;);

// 依赖demo数据
auto.dependency(&#39;demo&#39;, {name: &#39;xxx&#39;});

// table 滚动到最右边
auto.scroll(findOne(&#39;css=.el-table__body-wrapper&#39;), null, 0);
</code></pre>
<h3>jira<span><a class="mark" href="#auto_jira" id="auto_jira">#</a></span></h3>
<p>jira 对象提供 JIRA 操作，具体函数见  include/jira.js</p>
<pre><code class="lang-js">// 登录 jira
jira.login();

// 提bug
jira.createIssue(&#39;测试&#39;, &#39;程序有bug&#39;);
</code></pre>
<h2>业务模块<span><a class="mark" href="#auto_2" id="auto_2">#</a></span></h2>
<p>调用模块需要先引用模块，如 <code>auto.loadCommon(&#39;http&#39;);</code> 建议放代码最前面。</p>
<h3>http<span><a class="mark" href="#auto_http" id="auto_http">#</a></span></h3>
<p>http 模块，主要操作HTTP请求，如GET/POST请求，具体函数见 common/http.js</p>
<pre><code class="lang-js">auto.loadCommon(&#39;http&#39;);

http.get(&#39;http://www.baidu.com&#39;);

http.post(&#39;/api/ouser-web/mobileLogin/login.do&#39;, { username: &#39;superadmin&#39;, password: &#39;123456&#39;});

let response = http.request(&#39;/oms-web/so/list.do&#39;, &#39;POST&#39;);
println(&#39;response: &#39; + response.data);
let ut = http.getCookie(&#39;ut&#39;);
println(&#39;ut: &#39; + ut);
</code></pre>
<h3>proxy<span><a class="mark" href="#auto_proxy" id="auto_proxy">#</a></span></h3>
<p>proxy 模块，主要用于 js 对象代理，具体函数见 common/proxy.js</p>
<pre><code class="lang-js">auto.loadCommon(&#39;proxy&#39;);

let p = new ProxyAdapter({}, function (obj, name, args, apply) {
    println(name + &#39;方法被代理了 --before&#39;);
    let result = apply();
    println(name + &#39;方法被代理了 --after&#39;);
    return result;
});

p.hello = function() {
    println(&#39;hello~&#39;);
}

p.hello();
// hello方法被代理了 --before
// hello~
// hello方法被代理了 --after
</code></pre>

      </div>
    </div>
  </div>
  <script src="assets/sh_main.js"></script>
  <script src="assets/sh_javascript.min.js"></script>
  <script>highlight(undefined, undefined, 'pre');</script>
  <!-- __TRACKING__ -->
</body>
</html>